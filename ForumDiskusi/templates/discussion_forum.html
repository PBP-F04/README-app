{% extends 'base-bootstrap.html' %}

{% load static %}
    {% block content %}
    {% include 'header.html' %}


    <h1 style="margin-top: 20px; margin-bottom: 20px; margin-left: 20px; margin-right: 20px;">Forum Discussion</h1>

    <!-- Search bar form -->
    <form style="margin-top: 20px; margin-bottom: 20px; margin-left: 20px; margin-right: 20px;" method="GET" action="{% url 'ForumDiskusi:show_book_discussion' book_id=book_id %}" class="form-inline">
        <div class="form-group">
            <input type="text" name="search" class="form-control" placeholder="Search by Title">
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <a style="margin-top: 20px; margin-bottom: 20px; margin-left: 20px; margin-right: 20px;" href="{% url 'ForumDiskusi:create_discussion' book_id=book_id %}" class="btn btn-success btn-sm"  >
        Add New Discussion
    </a>

    <div class="row" style="margin-top: 20px; margin-bottom: 20px; margin-left: 20px; margin-right: 20px;">
        {% for discussion in discussions %}
            <div class="col-md-4 mb-3">
                <div class="card custom-card">
                    <div class="card-body">
                        <p>by: {{ discussion.user.name }}</p>
                        <h2 class="card-title">{{ discussion.title }}</h2>
                        <p class="card-text">{{ discussion.content }}</p>
                        <p class="card-text">Created at: {{ discussion.created_at }}</p>
                        <td>
                            <a href="{% url 'ForumDiskusi:show_discussion_comment' discussion_id=discussion.id %}" class="btn btn-success btn-sm" style="background-color: #5068A9;">
                                    Comments
                            </a>
                        </td>
                        

                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

</body>

    <style>
        .custom-card {
            height: 100%;
            margin: 10px; 
        }

        .footer {
            position: absolute;
            bottom: auto;
            width: 100%;
            text-align: center;
        }
        body {
            height: 100%;
        }


        
    </style>


   
<div class="footer">
    {% include 'footer.html' %}
</div>

{% endblock content %}